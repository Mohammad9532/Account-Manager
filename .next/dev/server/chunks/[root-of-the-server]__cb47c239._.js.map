{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///D:/Account%20Manager/account-manager-app/lib/db.js"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst MONGODB_URI = process.env.MONGODB_URI;\r\n\r\nif (!MONGODB_URI && process.env.NODE_ENV === 'production') {\r\n    console.warn('‚ö†Ô∏è MONGODB_URI is missing. Database connection will be skipped during build.');\r\n}\r\n\r\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */\r\nlet cached = global.mongoose;\r\n\r\nif (!cached) {\r\n    cached = global.mongoose = { conn: null, promise: null };\r\n}\r\n\r\nasync function dbConnect() {\r\n    if (cached.conn) {\r\n        return cached.conn;\r\n    }\r\n\r\n    if (!cached.promise) {\r\n        const opts = {\r\n            bufferCommands: false,\r\n            dbName: 'Mintmart'\r\n        };\r\n\r\n        cached.promise = mongoose.connect(MONGODB_URI, opts).then((mongoose) => {\r\n            console.log('‚úÖ Next.js connected to MongoDB Atlas (Mintmart)');\r\n            return mongoose;\r\n        });\r\n    }\r\n\r\n    try {\r\n        cached.conn = await cached.promise;\r\n    } catch (e) {\r\n        cached.promise = null;\r\n        throw e;\r\n    }\r\n\r\n    return cached.conn;\r\n}\r\n\r\nexport default dbConnect;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;AAE3C;;AAIA;;;;CAIC,GACD,IAAI,SAAS,yDAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACT,SAAS,yDAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AAC3D;AAEA,eAAe;IACX,IAAI,OAAO,IAAI,EAAE;QACb,OAAO,OAAO,IAAI;IACtB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACjB,MAAM,OAAO;YACT,gBAAgB;YAChB,QAAQ;QACZ;QAEA,OAAO,OAAO,GAAG,mKAAQ,CAAC,OAAO,CAAC,aAAa,MAAM,IAAI,CAAC,CAAC;YACvD,QAAQ,GAAG,CAAC;YACZ,OAAO;QACX;IACJ;IAEA,IAAI;QACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACtC,EAAE,OAAO,GAAG;QACR,OAAO,OAAO,GAAG;QACjB,MAAM;IACV;IAEA,OAAO,OAAO,IAAI;AACtB;uCAEe"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///D:/Account%20Manager/account-manager-app/server/models/Transaction.js"],"sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst transactionSchema = new mongoose.Schema({\r\n    type: {\r\n        type: String,\r\n        enum: ['Money In', 'Money Out'],\r\n        required: true\r\n    },\r\n    amount: {\r\n        type: Number,\r\n        required: true\r\n    },\r\n    category: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    description: {\r\n        type: String,\r\n        required: true\r\n    },\r\n    date: {\r\n        type: Date,\r\n        default: Date.now\r\n    },\r\n    scope: {\r\n        type: String,\r\n        enum: ['manager', 'daily'],\r\n        default: 'manager',\r\n        required: true\r\n    }\r\n});\r\n\r\nexport const Transaction = mongoose.models.Transaction || mongoose.model('Transaction', transactionSchema);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,oBAAoB,IAAI,mKAAQ,CAAC,MAAM,CAAC;IAC1C,MAAM;QACF,MAAM;QACN,MAAM;YAAC;YAAY;SAAY;QAC/B,UAAU;IACd;IACA,QAAQ;QACJ,MAAM;QACN,UAAU;IACd;IACA,UAAU;QACN,MAAM;QACN,UAAU;IACd;IACA,aAAa;QACT,MAAM;QACN,UAAU;IACd;IACA,MAAM;QACF,MAAM;QACN,SAAS,KAAK,GAAG;IACrB;IACA,OAAO;QACH,MAAM;QACN,MAAM;YAAC;YAAW;SAAQ;QAC1B,SAAS;QACT,UAAU;IACd;AACJ;AAEO,MAAM,cAAc,mKAAQ,CAAC,MAAM,CAAC,WAAW,IAAI,mKAAQ,CAAC,KAAK,CAAC,eAAe"}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///D:/Account%20Manager/account-manager-app/app/api/transactions/route.js"],"sourcesContent":["import dbConnect from \"@/lib/db\";\r\nimport { Transaction } from \"@/server/models/Transaction\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport async function GET() {\r\n    try {\r\n        if (!process.env.MONGODB_URI) return NextResponse.json({ error: 'DB URI missing' }, { status: 500 });\r\n        await dbConnect();\r\n        const transactions = await Transaction.find().sort({ date: -1 });\r\n        console.log(`üì° API: Fetched ${transactions.length} transactions.`);\r\n        const scopes = [...new Set(transactions.map(t => t.scope || 'manager'))];\r\n        console.log(`üîç Scopes found: ${scopes.join(', ')}`);\r\n        return NextResponse.json(transactions);\r\n    } catch (error) {\r\n        return NextResponse.json({ error: error.message }, { status: 500 });\r\n    }\r\n}\r\n\r\nexport async function POST(request) {\r\n    try {\r\n        if (!process.env.MONGODB_URI) return NextResponse.json({ error: 'DB URI missing' }, { status: 500 });\r\n        await dbConnect();\r\n        const body = await request.json();\r\n        const newTransaction = new Transaction(body);\r\n        const saved = await newTransaction.save();\r\n        return NextResponse.json(saved);\r\n    } catch (error) {\r\n        return NextResponse.json({ error: error.message }, { status: 400 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;;;;AAEO,MAAM,UAAU;AAEhB,eAAe;IAClB,IAAI;QACA,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiB,GAAG;YAAE,QAAQ;QAAI;QAClG,MAAM,IAAA,sHAAS;QACf,MAAM,eAAe,MAAM,gJAAW,CAAC,IAAI,GAAG,IAAI,CAAC;YAAE,MAAM,CAAC;QAAE;QAC9D,QAAQ,GAAG,CAAC,CAAC,gBAAgB,EAAE,aAAa,MAAM,CAAC,cAAc,CAAC;QAClE,MAAM,SAAS;eAAI,IAAI,IAAI,aAAa,GAAG,CAAC,CAAA,IAAK,EAAE,KAAK,IAAI;SAAY;QACxE,QAAQ,GAAG,CAAC,CAAC,iBAAiB,EAAE,OAAO,IAAI,CAAC,OAAO;QACnD,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACrE;AACJ;AAEO,eAAe,KAAK,OAAO;IAC9B,IAAI;QACA,IAAI,CAAC,QAAQ,GAAG,CAAC,WAAW,EAAE,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiB,GAAG;YAAE,QAAQ;QAAI;QAClG,MAAM,IAAA,sHAAS;QACf,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,iBAAiB,IAAI,gJAAW,CAAC;QACvC,MAAM,QAAQ,MAAM,eAAe,IAAI;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACrE;AACJ"}}]
}